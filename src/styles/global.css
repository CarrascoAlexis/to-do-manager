/*
  global.css â€” Base/global styles

  Purpose:
  - Provides resets, base typography, and default CSS custom properties fallbacks.
  - Includes a small dark-mode fallback when no explicit `.theme-...` class is present.

  Notes for contributors:
  - Prefer theme variables (defined in `src/styles/themes.css`) over hard-coded colors.
  - Keep global utilities and base resets here. Component-level styles should remain in
    component or module CSS files (e.g., `src/styles/task-card.css`).
*/

/* Reset and base styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  color: var(--text-color, #111827);
  background: var(--bg-color, #f9fafb);
  line-height: 1.6;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f3f4f6;
}

::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Focus visible for accessibility */
:focus-visible {
  outline: 2px solid #6366f1;
  outline-offset: 2px;
}

/* Remove default button styles */
button {
  font-family: inherit;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  body {
    color: var(--text-color, #f9fafb);
    background: var(--bg-color, #111827);
  }

  ::-webkit-scrollbar-track {
    background: #1f2937;
  }

  ::-webkit-scrollbar-thumb {
    background: #4b5563;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
  }
}

/* Theme variables and theme classes */
:root {
  /* Default / light */
  --bg-color: #f9fafb;
  --text-color: #111827;
  --muted-color: #6b7280;
  --accent-color: #6366f1;
  --sidebar-bg: #ffffff;
  --sidebar-border: #e5e7eb;
  --nav-hover-bg: #f9fafb;
  --nav-active-bg: #eef2ff;
  --toggle-hover-bg: #f3f4f6;
}

.theme-light {
  --bg-color: #f9fafb;
  --text-color: #111827;
  --muted-color: #6b7280;
  --accent-color: #6366f1;
  --sidebar-bg: #ffffff;
  --sidebar-border: #e5e7eb;
  --nav-hover-bg: #f9fafb;
  --nav-active-bg: #eef2ff;
  --toggle-hover-bg: #f3f4f6;
}

.theme-dark {
  --bg-color: #111827;
  --text-color: #f9fafb;
  --muted-color: #9ca3af;
  --accent-color: #818cf8;
  --sidebar-bg: #1f2937;
  --sidebar-border: #374151;
  --nav-hover-bg: #374151;
  --nav-active-bg: #312e81;
  --toggle-hover-bg: #374151;
}

.theme-halloween {
  --bg-color: #0b0b0b;
  --text-color: #ffeead;
  --muted-color: #c0840f;
  --accent-color: #ff6b35;
  --sidebar-bg: #1b1b1b;
  --sidebar-border: #4b2b2b;
  --nav-hover-bg: #2b1b0b;
  --nav-active-bg: #3b1700;
  --toggle-hover-bg: #2b1b0b;
}


/* If user prefers dark and no explicit theme set, apply dark variables as fallback */
@media (prefers-color-scheme: dark) {
  /* Only apply dark fallback when no explicit theme class is present */
  :root:not(.theme-light):not(.theme-dark):not(.theme-halloween):not(.theme-christmas):not(.theme-france):not(.theme-italy):not(.theme-spain):not(.theme-lgbt) {
    --bg-color: #111827;
    --text-color: #f9fafb;
    --muted-color: #9ca3af;
    --accent-color: #818cf8;
    --sidebar-bg: #1f2937;
    --sidebar-border: #374151;
    --nav-hover-bg: #374151;
    --nav-active-bg: #312e81;
    --toggle-hover-bg: #374151;
  }
}

/* Italy theme (green, white, red) */
.theme-italy {
  --bg-color: #ffffff;
  --text-color: #083024; /* dark green-ish */
  --muted-color: #2b7a4b;
  --accent-color: #d62828; /* bright red */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e9f1ec;
  --nav-hover-bg: #f6fbf7;
  --nav-active-bg: #eef7ef;
  --toggle-hover-bg: #f3faf6;
}

/* Spain theme (red & yellow) */
.theme-spain {
  --bg-color: #fffaf2;
  --text-color: #3b0b0b; /* deep red-brown */
  --muted-color: #d97706; /* warm amber */
  --accent-color: #c8102e; /* spanish red */
  --sidebar-bg: #ffffff;
  --sidebar-border: #fdeed7;
  --nav-hover-bg: #fff6ea;
  --nav-active-bg: #fff0d8;
  --toggle-hover-bg: #fff8ee;
}

/* LGBT (rainbow) theme - bright, balanced colors */
.theme-lgbt {
  --bg-color: #ffffff;
  --text-color: #0b1220;
  --muted-color: #6b7280;
  --accent-color: #ff3b81; /* fallback accent (pink) */
  --sidebar-bg: #ffffff;
  --sidebar-border: #f1f4f9;
  --nav-hover-bg: #fbfbfc;
  --nav-active-bg: #f7f7fa;
  --toggle-hover-bg: #f5f5f8;
}

/* Christmas theme: evergreen green, festive bright red and white */
.theme-christmas {
  --bg-color: #fffaf0; /* warm cream */
  --text-color: #062b14; /* deep evergreen */
  --muted-color: #2d6a3a; /* muted green */
  --accent-color: #c4001d; /* bright festive red */
  --sidebar-bg: #ffffff;
  --sidebar-border: #dfeee0;
  --nav-hover-bg: #f7fbf8;
  --nav-active-bg: #eef7ee;
  --toggle-hover-bg: #f3faf4;
}

/* France theme: bright tricolor (blue, white, red) */
.theme-france {
  --bg-color: #ffffff;
  --text-color: #072a60; /* deep navy for text */
  --muted-color: #2b6fb5; /* vivid blue */
  --accent-color: #ed2939; /* vivid red */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e9f0ff;
  --nav-hover-bg: #f0f6ff;
  --nav-active-bg: #e6f0ff;
  --toggle-hover-bg: #eef5ff;
}
